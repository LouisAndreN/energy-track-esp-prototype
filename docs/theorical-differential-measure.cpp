// Impedances at 50Hz
Z_C1 = 1/(2π × 50 × 10µF) = 318 Ω
Z_R1 = 10 kΩ
Z_R2 = 10 kΩ
Z_C_VREF = 1/(2π × 50 × 100nF) = 31.8 kΩ
Z_Rpull = 1 kΩ
Z_C2 = 1/(2π × 50 × 470nF) = 6.77 kΩ
Z_Rseries = 100 Ω
Z_ADC_A0 ≈ 1–10 MΩ
Z_Rburden = 37.5 Ω   // measured burden resistor

////////////////////////////////////////////////////////////////////////
//////////////////// SCT-013 electrical characteristics ////////////////
////////////////////////////////////////////////////////////////////////

// SCT-013-030 scaling
30 A RMS  ->  1 V RMS

Secondary current at full scale :
I_sec_30A = 1V / 37.5Ω = 26.67 mA RMS

Secondary current per ampere :
I_sec_per_A = 26.67 / 30 = 0.8889 mA / A
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////
//////////////////// Voltage generated by SCT //////////////////////////
////////////////////////////////////////////////////////////////////////

// Voltage across burden resistor
V_SCT = I_sec × Rburden
V_SCT = 10.80 mA × 37.5 Ω
V_SCT = 405 mV RMS
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////
//////////////////// Biasing around VREF ///////////////////////////////
////////////////////////////////////////////////////////////////////////

// VREF generated by R1 || R2
VREF_DC = 3.3V / 2 = 1.65V

// AC impedance of VREF node dominated by R1 || R2
Z_th_VREF = 10k || 10k = 5 kΩ

// Since Z_th_VREF >> Z_Rseries, AC amplitude preserved
V_at_VREF_AC ≈ 405 mV RMS
////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////

////////////////////////////////////////////////////////////////////////
//////////////////// Anti-aliasing + protection ////////////////////////
////////////////////////////////////////////////////////////////////////

// Rseries limits input current to ADS1115
// Rpull + C2 form low-pass filter
// At 50 Hz, attenuation negligible

V_A0_AC ≈ 405 mV RMS // vs 350mV measured
